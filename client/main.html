<!--
	Nicole Bassen and Kimberly Praxel
	Guess Who? Meteor site
-->

<head>
  <title>Guess Who?</title>
  <!-- Google fonts -->
  <link href='https://fonts.googleapis.com/css?family=Raleway:600' rel='stylesheet' type='text/css'>
</head>

<body>
    <div class="container">
        <h1 id="mainTitle">Guess Who?</h1><br>
        
        <div class="col-lg-9 col-md-9 col-sm-9">
        	<!-- Gameplay area -->
        	<div class="row">
        		{{> mainbox}}
        	</div>
        	<!-- Chat with opponent -->
        	<div class="row">
                {{> messageList}}
        	</div>
            <div class="row">
                {{> addMessageForm}}
            </div>
        </div>

        
		<div class="col-lg-3 col-md-3 col-sm-3">
			<!-- Opponent's tiles -->
        	<div class="row">
        		{{> opponentBoard }}
        	</div>
        	<!-- Online users -->
        	<div class="row">
        		{{> infoPanel }}
        	</div>
        </div>
    </div>
    
    <!-- jQuery script  -->
    <script src="jquery-1.12.2.min.js"></script>
    
    
</body>

<template name="mainbox">
    <div class="panel panel-default" id="mainbox">
        <div class="panel-body">
            
            <!-- photo+stats div -->
            <div class="col-xs-3">
            	<!-- photo div -->
            	<div class="row">
                    <div class="text-center">
                    {{#each myTile}}
                    <img src="{{frontImage}}" id="myTile">
                    <h4 class="text-center">{{name}}</h4><br><br>
                    {{/each}}
                    </div>
            	</div><!-- /photo div -->
            
            	<!-- stats div -->
            	<div class="row">
            		<h4 class="text-center">Player 1</h4>
                    <p>Wins: 0<br />
                    Losses: 0</p>
                    <h4 class="text-center">Player 2</h4>
                    <p>Wins: 0<br />
                    Losses: 0</p>
                </div> <!-- /stats div -->
            </div> <!-- /photo+stats div -->


            <!-- tiles div -->
            <div class="col-lg-9 col-md-9 col-sm-9" id="playerboard">

            	<div class="row text-center">
            		<h4>{{gameMessage}}</h4>
            	</div>
            	<!-- row #1 -->
            	<div class="row">
					{{#each firstRow}}
                	<div class="col-lg-2 col-md-2 col-sm-2">
                    	<div class="box" id="player-row">
                            <div class="flip-container">
                                <div class="flipper" onclick="{{flipTile}}">
                                    <div class="front">
                                        <img src="{{frontImage}}" class="playerTile" id="{{id}}">
                                        <p>{{name}}</p>
                                    </div>
                                    <div class="back">
                                        <img src="{{backImage}}" class="playerTile" id="{{id}}">
                                        <p>{{name}}</p>
                                    </div>
                                </div>
                            </div>
                    	</div>
                	</div>
                	{{/each}}
                </div> <!-- /row #1 -->
                
                <!-- row #2 -->
            	<div class="row">
					{{#each secondRow}}
                        <div class="col-lg-2 col-md-2 col-sm-2">
                            <div class="box" id="player-row">
                                <div class="flip-container">
                                    <div class="flipper" onclick="{{flipTile}}">
                                        <div class="front">
                                        <img src="{{frontImage}}" class="playerTile" id="{{id}}">
                                        <p>{{name}}</p>
                                    </div>
                                    <div class="back">
                                        <img src="{{backImage}}" class="playerTile" id="{{id}}">
                                        <p>{{name}}</p>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                	{{/each}}
                </div> <!-- /row #2 -->
                
                <!-- row #3 -->
            	<div class="row">
					{{#each thirdRow}}
                        <div class="col-lg-2 col-md-2 col-sm-2">
                            <div class="box" id="player-row">
                                <div class="flip-container">
                                    <div class="flipper" onclick="{{flipTile}}">
                                        <div class="front">
                                        <img src="{{frontImage}}" class="playerTile" id="{{id}}">
                                        <p>{{name}}</p>
                                    </div>
                                    <div class="back">
                                        <img src="{{backImage}}" class="playerTile"  id="{{id}}">
                                        <p>{{name}}</p>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                	{{/each}}
                </div> <!-- /row #3 -->

            </div><!-- /tiles div -->
        </div>
    </div>
</template>

<template name="addMessageForm">
	<!--<div class="panel panel-default" id="chatInputPanel">-->
        <form class="newMessage" id="newMessage">
            <div class="form-group">
                <input type="text" id="messageText" class="form-control">
            </div>
        </form>
    <!--</div>-->
</template>


<template name="messageList">
    <div class="panel panel-default" id="chatPanel">
    <ul class="list-group">
        {{#each allMessages}}
            <span class="time"><small>{{time}}</small></span>
            <b>{{name}}</b>: {{message}}<br>
        {{/each}}
    </ul>
        </div>
</template>

<template name="infoPanel">
	<div class="panel panel-default" id="infoPanel">
		<h3 class="text-center">Online Users</h3>
		<ul id="usersList">
			<li>username1</li>
			<li>username2</li>
			<li>guest1234</li>
			<li>username3</li>
		</ul>
	</div>
</template>

<template name="opponentBoard">
	<div class="panel panel-default" id="opponentBoard">
		<h3 class="text-center">Opponent Board</h3>
        <!-- row #1 -->
        <div class="row">
            {{#each firstRow}}
                <div class="col-lg-2 col-md-2 col-sm-2">
                    <div class="box" id="opponent-row">
                        <div class="flip-container">
                            <div class="flipper" onclick="this.classList.toggle('flipped')">
                                <div class="front">
                                    <img src="{{frontImage}}" width="50" height="70">
                                </div>
                                <div class="back">
                                    <img src="{{opponentBackImage}}" width="50" height="70">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {{/each}}
        </div> <!-- /row #1 -->

        <!-- row #2 -->
        <div class="row">
            {{#each secondRow}}
                <div class="col-lg-2 col-md-2 col-sm-2">
                    <div class="box" id="opponent-row">
                        <div class="flip-container">
                            <div class="flipper" onclick="this.classList.toggle('flipped')">
                                <div class="front">
                                    <img src="{{frontImage}}" width="50" height="70">
                                </div>
                                <div class="back">
                                    <img src="{{opponentBackImage}}" width="50" height="70">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {{/each}}
        </div> <!-- /row #2 -->

        <!-- row #3 -->
        <div class="row">
            {{#each thirdRow}}
                <div class="col-lg-2 col-md-2 col-sm-2">
                    <div class="box" id="opponent-row">
                        <div class="flip-container">
                            <div class="flipper" onclick="this.classList.toggle('flipped')">
                                <div class="front">
                                    <img src="{{frontImage}}" width="50" height="70">
                                </div>
                                <div class="back">
                                    <img src="{{opponentBackImage}}" width="50" height="70">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {{/each}}
        </div> <!-- /row #3 -->
        
        <!-- display opponent's tile choice for testing -->     
        <div class="row panel-body">
        {{#each opponentTile}}
        	<p class="text-center">
        		The opponent chose {{name}} (tile id {{id}})
        	</p>  
        {{/each}}      
        </div>
	</div>
</template>

